
<!-- æ‰‹å¯«è¾¨è­˜åˆ‡æ›æŒ‰éˆ• -->
<div class="ocr-mode-toggle">
    <button id="handwritingToggle" class="handwriting-toggle" onclick="toggleHandwriting()">
        <span class="icon">âœï¸</span>
        <span class="label">æ‰‹å¯«æ¨¡å¼</span>
        <span class="status">é—œé–‰</span>
    </button>
</div>

<script>
let handwritingMode = false;

function toggleHandwriting() {
    handwritingMode = !handwritingMode;
    const button = document.getElementById('handwritingToggle');
    const statusSpan = button.querySelector('.status');

    if (handwritingMode) {
        button.classList.add('active');
        statusSpan.textContent = 'é–‹å•Ÿ';
        console.log('âœï¸ å·²å•Ÿç”¨æ‰‹å¯«æ¨¡å¼');
    } else {
        button.classList.remove('active');
        statusSpan.textContent = 'é—œé–‰';
        console.log('ğŸ–¨ï¸ å·²åˆ‡æ›ç‚ºå°åˆ·æ¨¡å¼');
    }

    // é€šçŸ¥ OCR å¼•æ“
    if (window.ocrManager) {
        window.ocrManager.paddleEngine.setHandwritingMode(handwritingMode);
    }
}

// ä¿®æ”¹ performOCR å‡½æ•¸ä½¿ç”¨æ‰‹å¯«æ¨¡å¼
window.originalPerformOCR = window.performOCR;
window.performOCR = async function(imageData, options = {}) {
    options.handwriting = handwritingMode;
    return window.originalPerformOCR(imageData, options);
};
</script>
